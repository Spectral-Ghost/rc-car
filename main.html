<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>RC Robot Control</title>
<style>
body { font-family: Arial; text-align: center; margin-top: 50px; }
button { width: 80px; height: 60px; font-size: 24px; margin: 5px; }
input[type=range] { width: 300px; margin-top: 20px; }
</style>
<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js"></script>
</head>
<body>

<h1>RC Robot Control</h1>

<!-- Arrow Buttons -->
<div style="display:inline-block; text-align:center; margin-top:30px;">
  <div>
    <button id="btnForward">↑</button>
  </div>
  <div>
    <button id="btnLeft">←</button>
    <button id="btnStop">■</button>
    <button id="btnRight">→</button>
  </div>
  <div>
    <button id="btnBackward">↓</button>
  </div>
</div>

<!-- Speed Slider -->
<div style="margin-top:20px;">
  <label for="speedRange">Speed:</label><br>
  <input type="range" id="speedRange" min="50" max="255" value="" oninput="updateSpeed(this.value)">
  <span id="speedValue">150</span>
</div>

<script>
const firebaseConfig = {
  apiKey: "const firebaseConfig = {   apiKey: "AIzaSyB79wb5DsH69pOQw35Nk2hg96_Xz0mEfWY",   authDomain: "rccar-2b355.firebaseapp.com",   databaseURL: "https://rccar-2b355-default-rtdb.asia-southeast1.firebasedatabase.app",   projectId: "rccar-2b355",   storageBucket: "rccar-2b355.firebasestorage.app",   messagingSenderId: "505701251853",   appId: "1:505701251853:web:de2fbbd641e33dfd348e44"",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT.firebaseio.com",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "XXXX",
  appId: "XXXX"
};
const app = firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let speed = 150;

// Update speed from slider
function updateSpeed(val){
  speed = val;
  document.getElementById('speedValue').innerText = val;
  db.ref('/speed').set(val);
}

// Send command to Firebase
function sendCommand(cmd){ db.ref('/command').set(cmd); }
function stopCommand(){ db.ref('/command').set(""); }

// Buttons hold functionality
function holdButton(buttonId, command){
  const btn = document.getElementById(buttonId);
  btn.addEventListener('mousedown', ()=>sendCommand(command));
  btn.addEventListener('mouseup', stopCommand);
  btn.addEventListener('mouseleave', stopCommand);
  // For mobile
  btn.addEventListener('touchstart', ()=>sendCommand(command));
  btn.addEventListener('touchend', stopCommand);
}

// Assign commands
holdButton('btnForward', 'forward');
holdButton('btnBackward', 'backward');
holdButton('btnLeft', 'left');
holdButton('btnRight', 'right');
holdButton('btnStop', 'stop');
</script>
</body>
</html>
